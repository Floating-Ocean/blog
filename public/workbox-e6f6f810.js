define(["exports"],function(e){"use strict";try{self["workbox:core:6.5.3"]&&_()}catch(e){}class c extends Error{constructor(e,t){super(((e,t)=>{let r=e;return 0<t.length&&(r+=" :: "+JSON.stringify(t)),r})(e,[t])),this.name=e,this.details=t}}try{self["workbox:routing:6.5.3"]&&_()}catch(e){}const s=e=>e&&"object"==typeof e?e:{handle:e};class a{constructor(e,t,r="GET"){this.handler=s(t),this.match=e,this.method=r}setCatchHandler(e){this.catchHandler=s(e)}}class n extends a{constructor(r,e,t){super(({url:e})=>{var t=r.exec(e.href);if(t&&(e.origin===location.origin||0===t.index))return t.slice(1)},e,t)}}class i{constructor(){this.t=new Map,this.i=new Map}get routes(){return this.t}addFetchListener(){self.addEventListener("fetch",e=>{var t=e["request"],t=this.handleRequest({request:t,event:e});t&&e.respondWith(t)})}addCacheListener(){self.addEventListener("message",t=>{var e;t.data&&"CACHE_URLS"===t.data.type&&(e=t.data["payload"],e=Promise.all(e.urlsToCache.map(e=>{"string"==typeof e&&(e=[e]);e=new Request(...e);return this.handleRequest({request:e,event:t})})),t.waitUntil(e),t.ports)&&t.ports[0]&&e.then(()=>t.ports[0].postMessage(!0))})}handleRequest({request:r,event:s}){const a=new URL(r.url,location.href);if(a.protocol.startsWith("http")){const n=a.origin===location.origin,{params:i,route:o}=this.findMatchingRoute({event:s,request:r,sameOrigin:n,url:a});let t=o&&o.handler;var e=r.method;if(t=!t&&this.i.has(e)?this.i.get(e):t){let e;try{e=t.handle({url:a,request:r,event:s,params:i})}catch(r){e=Promise.reject(r)}const c=o&&o.catchHandler;return e=e instanceof Promise&&(this.o||c)?e.catch(async t=>{if(c)try{return await c.handle({url:a,request:r,event:s,params:i})}catch(e){e instanceof Error&&(t=e)}if(this.o)return this.o.handle({url:a,request:r,event:s});throw t}):e}}}findMatchingRoute({url:t,sameOrigin:r,request:s,event:a}){for(const i of this.t.get(s.method)||[]){let e;var n=i.match({url:t,sameOrigin:r,request:s,event:a});if(n)return e=n,(Array.isArray(e)&&0===e.length||n.constructor===Object&&0===Object.keys(n).length||"boolean"==typeof n)&&(e=void 0),{route:i,params:e}}return{}}setDefaultHandler(e,t="GET"){this.i.set(t,s(e))}setCatchHandler(e){this.o=s(e)}registerRoute(e){this.t.has(e.method)||this.t.set(e.method,[]),this.t.get(e.method).push(e)}unregisterRoute(e){if(!this.t.has(e.method))throw new c("unregister-route-but-not-found-with-method",{method:e.method});var t=this.t.get(e.method).indexOf(e);if(!(-1<t))throw new c("unregister-route-route-not-registered");this.t.get(e.method).splice(t,1)}}let o;const t={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:"undefined"!=typeof registration?registration.scope:""},r=e=>{return e||(e=t.runtime,[t.prefix,e,t.suffix].filter(e=>e&&0<e.length).join("-"))};function h(e,t){var r=new URL(e);for(const e of t)r.searchParams.delete(e);return r.href}class l{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}const u=new Set;try{self["workbox:strategies:6.5.3"]&&_()}catch(e){}function f(e){return"string"==typeof e?new Request(e):e}class d{constructor(e,t){this.h={},Object.assign(this,t),this.event=t.event,this.u=e,this.l=new l,this.p=[],this.v=[...e.plugins],this.m=new Map;for(const e of this.v)this.m.set(e,{});this.event.waitUntil(this.l.promise)}async fetch(e){var t=this["event"];let r=f(e);if("navigate"===r.mode&&t instanceof FetchEvent&&t.preloadResponse){const e=await t.preloadResponse;if(e)return e}var s=this.hasCallback("fetchDidFail")?r.clone():null;try{for(const e of this.iterateCallbacks("requestWillFetch"))r=await e({request:r.clone(),event:t})}catch(e){if(e instanceof Error)throw new c("plugin-error-request-will-fetch",{thrownErrorMessage:e.message})}var a=r.clone();try{let e;e=await fetch(r,"navigate"===r.mode?void 0:this.u.fetchOptions);for(const c of this.iterateCallbacks("fetchDidSucceed"))e=await c({event:t,request:a,response:e});return e}catch(e){throw s&&await this.runCallbacks("fetchDidFail",{error:e,event:t,originalRequest:s.clone(),request:a.clone()}),e}}async fetchAndCachePut(e){var t=await this.fetch(e),r=t.clone();return this.waitUntil(this.cachePut(e,r)),t}async cacheMatch(e){e=f(e);let t;var{cacheName:r,matchOptions:s}=this.u,a=await this.getCacheKey(e,"read"),e=Object.assign(Object.assign({},s),{cacheName:r});t=await caches.match(a,e);for(const e of this.iterateCallbacks("cachedResponseWillBeUsed"))t=await e({cacheName:r,matchOptions:s,cachedResponse:t,request:a,event:this.event})||void 0;return t}async cachePut(e,t){var r=f(e),s=(await new Promise(e=>setTimeout(e,0)),await this.getCacheKey(r,"write"));if(!t)throw new c("cache-put-with-no-response",{url:(r=s.url,new URL(String(r),location.href).href.replace(new RegExp("^"+location.origin),""))});var a=await this.g(t);if(!a)return!1;var{cacheName:n,matchOptions:r}=this.u,t=await self.caches.open(n),i=this.hasCallback("cacheDidUpdate"),o=i?await async function(e,t,r,s){var a=h(t.url,r);if(t.url===a)return e.match(t,s);var n=Object.assign(Object.assign({},s),{ignoreSearch:!0}),n=await e.keys(t,n);for(const t of n)if(a===h(t.url,r))return e.match(t,s)}(t,s.clone(),["__WB_REVISION__"],r):null;try{await t.put(s,i?a.clone():a)}catch(e){if(e instanceof Error)throw"QuotaExceededError"===e.name&&await async function(){for(const e of u)await e()}(),e}for(const e of this.iterateCallbacks("cacheDidUpdate"))await e({cacheName:n,oldResponse:o,newResponse:a.clone(),request:s,event:this.event});return!0}async getCacheKey(t,r){var s=t.url+" | "+r;if(!this.h[s]){let e=t;for(const t of this.iterateCallbacks("cacheKeyWillBeUsed"))e=f(await t({mode:r,request:e,event:this.event,params:this.params}));this.h[s]=e}return this.h[s]}hasCallback(e){for(const t of this.u.plugins)if(e in t)return!0;return!1}async runCallbacks(e,t){for(const r of this.iterateCallbacks(e))await r(t)}*iterateCallbacks(t){for(const r of this.u.plugins)if("function"==typeof r[t]){const s=this.m.get(r);yield e=>{e=Object.assign(Object.assign({},e),{state:s});return r[t](e)}}}waitUntil(e){return this.p.push(e),e}async doneWaiting(){for(var e;e=this.p.shift();)await e}destroy(){this.l.resolve(null)}async g(e){let t=e,r=!1;for(const e of this.iterateCallbacks("cacheWillUpdate"))if(t=await e({request:this.request,response:t,event:this.event})||void 0,r=!0,!t)break;return r||t&&200!==t.status&&(t=void 0),t}}e.CacheFirst=class extends class{constructor(e={}){this.cacheName=r(e.cacheName),this.plugins=e.plugins||[],this.fetchOptions=e.fetchOptions,this.matchOptions=e.matchOptions}handle(e){var[e]=this.handleAll(e);return e}handleAll(e){var t=(e=e instanceof FetchEvent?{event:e,request:e.request}:e).event,r="string"==typeof e.request?new Request(e.request):e.request,e="params"in e?e.params:void 0,e=new d(this,{event:t,request:r,params:e}),s=this.q(e,r,t);return[s,this.R(s,e,r,t)]}async q(t,r,s){let a;await t.runCallbacks("handlerWillStart",{event:s,request:r});try{if(!(a=await this.O(r,t))||"error"===a.type)throw new c("no-response",{url:r.url})}catch(e){if(e instanceof Error)for(const n of t.iterateCallbacks("handlerDidError"))if(a=await n({error:e,event:s,request:r}),a)break;if(!a)throw e}for(const c of t.iterateCallbacks("handlerWillRespond"))a=await c({event:s,request:r,response:a});return a}async R(e,t,r,s){let a,n;try{a=await e}catch(n){}try{await t.runCallbacks("handlerDidRespond",{event:s,request:r,response:a}),await t.doneWaiting()}catch(e){e instanceof Error&&(n=e)}if(await t.runCallbacks("handlerDidComplete",{event:s,request:r,response:a,error:n}),t.destroy(),n)throw n}}{async O(e,t){let r,s=await t.cacheMatch(e);if(!s)try{s=await t.fetchAndCachePut(e)}catch(e){e instanceof Error&&(r=e)}if(s)return s;throw new c("no-response",{url:e.url,error:r})}},e.clientsClaim=function(){self.addEventListener("activate",()=>self.clients.claim())},e.registerRoute=function(e,t,r){let s;if("string"==typeof e){const c=new URL(e,location.href);s=new a(({url:e})=>e.href===c.href,t,r)}else if(e instanceof RegExp)s=new n(e,t,r);else if("function"==typeof e)s=new a(e,t,r);else{if(!(e instanceof a))throw new c("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});s=e}return o||((o=new i).addFetchListener(),o.addCacheListener()),o.registerRoute(s),s}});